# Engram Configuration
# This file provides production defaults for system package installations.
# Sensitive values (API keys) should be set in /etc/engram/environment

# HTTP server configuration
server:
  # Bind address (empty = all interfaces; "127.0.0.1" = localhost only)
  host: ""
  port: 8080
  read_timeout: 30s
  write_timeout: 60s
  shutdown_timeout: 30s

# Database configuration
database:
  # SQLite database path (writable by engram user)
  path: /var/lib/engram/engram.db

# Embedding service configuration
embedding:
  # API key is set via OPENAI_API_KEY environment variable
  model: text-embedding-3-small
  dimensions: 1536

# Background worker configuration
worker:
  snapshot_interval: 1h
  decay_interval: 24h
  embedding_retry_interval: 5m
  embedding_retry_max_attempts: 3

# Logging configuration
log:
  # Log level: debug, info, warn, error
  level: info
  # Log format: json, text
  format: json

# Semantic deduplication configuration
deduplication:
  enabled: true
  similarity_threshold: 0.92
